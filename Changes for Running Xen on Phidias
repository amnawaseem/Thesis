XENMEM_add_to_physmap is the hypercall for adding its mapping in Hypervisor maintained p2m table using apply_p2m_changes.However, PHIDIAS has static mapping. Hence this will be replaced by just mapping the already mapped page by PHIDIAS to kernel space using its hardcoded address. Shared info page is used for checking pending events and wall clocks time. May be it can be removed all together ???? commenting out BUG after calling this hypercall for now.....
In Xen auto xlate grant frames for grant table, xen-platform-pci driver can be used as a reference. They get the mmio range from device tree and setup grant tables virtual address and gfn accordingly. gnttab_setup_auto_xlat_frames will be called on physical address specifically specified for grant tables in scenario.xml (grant_frames = 0xfee000000) Initially 4 grant frames each of PAGE_SIZE is allocated. Replacing xen_xlate_map_ballooned_pages with  gnttab_setup_auto_xlat_frames 
Edit __max_nr_grant_frames function to return 32.
Modify Xen feature function to add the bits supported by Xen
VCPUOP_register_vcpu_info Hypercall is called in xen_starting_cpu function. VCPU info page is mapped in hypervisor to get information about Guest state and events. May be we can just ignore it for the moment. Comment out //BUG_ON(err); after calling hypercall. Also comment out VCPUOP_register_runstate_memory_area hypercall.
In xenbus_init, RING ops for HVM are set. XS_LOCAL domain type is set for initial Dom0. It calls xenstored_local_init.
xenstored_local_init allocates a page for xenstore in its own domain. Then it gets an unbound local port for event channel using hypercall. We can comment this hypercall. It sets two global variables xen_store_gfn and xen_store_evtchn.  The other uses these variables to get information about xenstore page and event channel port. The other domain will map this page into its domain and connect to event channel. Comment out BUG after hypercall. Create a memreq node in scenario for xenstore page. Use its virtual address from map node (base="0xfee020000") in device tree for declaring a node in soc named xenstore and sets its specific irq number for setting IPI handler (xen_store_evtchn = 10)
Xenstore interface is set to the virtual address of xenstore page and xs_init is called.
